<h4 id="3-2-2-trimmomatic-panel-de-recorte-y-filtrado">3.2.2 Trimmomatic — Panel de recorte y filtrado</h4>
<h3 id="-qu-es-este-panel-">¿Qué es este panel?</h3>
<p>El módulo <strong>Trimmomatic</strong> permite recortar adaptadores y eliminar bases de baja calidad de archivos
    FASTQ en modo <em>single-end (SE)</em> o <em>paired-end (PE)</em>. Desde aquí se selecciona el modo y archivo, se
    configuran las opciones de recorte, se ejecuta Trimmomatic y se gestionan/guardan configuraciones reutilizables.
    También puede ver la línea de comando exacta que se ejecutará y revisar resultados previos.</p>
<hr>
<h3 id="vista-general-del-panel">Vista general del panel</h3>
<ul>
    <li>
        <p><strong>Selector de modo (Single End / Paired End):</strong> botón que define el comportamiento (SE o PE).
        </p>
    </li>
    <li>
        <p><strong>Selector de archivo (área punteada):</strong> arrastre o haga clic para elegir el/los FASTQ de
            entrada; abre un diálogo con pestañas <em>All / Source / Trimmed</em>.</p>
    </li>
    <li>
        <p><strong>Panel lateral — Reportes / Configuraciones anteriores:</strong> lista con archivos ya generados y
            configuraciones guardadas (abrir carpeta, eliminar, recargar).</p>
    </li>
    <li>
        <p><strong>Página de opciones:</strong> rejilla con controles para Threads, Quality Scores Format y todos los
            pasos de Trimmomatic (IlluminaClip, SlidingWindow, LEADING, TRAILING, MINLEN, CROP, HEADCROP, etc.).</p>
    </li>
    <li>
        <p><strong>Botones de acción:</strong> <strong>Atrás</strong> (volver a selector) y <strong>Recortar</strong>
            (ejecutar).</p>
    </li>
    <li>
        <p><strong>Botones superiores (derecha):</strong> (1) Guardar configuración (estrella), (2) Ver comando
            (muestra la línea <code>java -jar ... trimmomatic.jar ...</code>), (3) Manual (abre la Support Window en la
            sección Trimmomatic).</p>
    </li>
</ul>
<p><em>(Ver imágenes de ejemplo a continuación.)</em></p>
<hr>
<h3 id="ejemplos-visuales">Ejemplos visuales</h3>
<p><strong>Figura — Ventana modal “Ver comando”.</strong></p>
<br>
<img src=":/manual/main_window_trimmomatic_panel_command.png" alt="" width="500">
<br>
<p><em>Ventana modal que muestra la línea de comando exacta que se ejecutará para Trimmomatic.</em>
</p>
<p><strong>Figura — Página 1: selector de modo y
        archivo.</strong></p>
<br>
<img src=":/manual/main_window_trimmomatic_panel_files_page.png" alt="" width="500">
<br>
<p><em>Página inicial de Trimmomatic: elegir SE/PE, seleccionar archivo (área punteada) y ver reportes anteriores a
        la derecha.</em>
</p>
<p><strong>Figura — Página 2: opciones de
        Trimmomatic.</strong></p>
<br>
<img src=":/manual/main_window_trimmomatic_panel_options_page.png" alt="" width="500">
<br>
<p><em>Página de opciones con controles para IlluminaClip, SlidingWindow, LEADING, TRAILING, MINLEN, etc., y botones
        Atrás/Recortar.</em>
</p>
<p><strong>Figura — Diálogo Files Window (selector).</strong></p>
<br>
<img src=":/manual/file_selector_dialog.png" alt="" width="500">
<br>
<p><em>Diálogo para
        seleccionar archivos del workspace con pestañas All/Source/Trimmed.</em></p>
<p><strong>Figura — Diálogo Save Configuration.</strong></p>
<br>
<img src=":/manual/save_config_dialog.png" alt="" width="500">
<br>
<p><em>Diálogo simple para ingresar un nombre y guardar la configuración de parámetros.</em>
</p>
<hr>
<h3 id="flujo-de-uso-paso-a-paso-">Flujo de uso (paso a paso)</h3>
<ol>
    <li>
        <p><strong>Elegir modo:</strong> Pulse <em>Single End</em> o <em>Paired End</em>.</p>
    </li>
    <li>
        <p><strong>Seleccionar archivo(s):</strong> haga clic en el área punteada o use el diálogo <em>Files
                Window</em> (All/Source/Trimmed) y confirme con <strong>OK</strong>.</p>
    </li>
    <li>
        <p><strong>Siguiente → Opciones:</strong> ajuste parámetros en la Página 2 o cargue una configuración guardada
            desde el panel derecho.</p>
    </li>
    <li>
        <p><strong>(Opcional) Ver comando:</strong> pulse <strong>Ver comando</strong> para ver/la copiar la línea
            <code>java -jar ...</code> que se ejecutará.
        </p>
    </li>
    <li>
        <p><strong>Ejecutar:</strong> pulse <strong>Recortar</strong>; el proceso muestra progreso y, al finalizar, los
            archivos resultantes aparecen en el workspace y en el panel de reportes anteriores.</p>
    </li>
    <li>
        <p><strong>Guardar configuración (opcional):</strong> pulse la estrella, asigne un nombre y <strong>OK</strong>
            para almacenar los parámetros para uso futuro.</p>
    </li>
</ol>
<hr>
<h3 id="comportamientos-y-estados-importantes">Comportamientos y estados importantes</h3>
<ul>
    <li>
        <p><strong>Estado inicial (sin archivo):</strong> la Página 1 muestra el selector vacío; Página 2 no es
            accesible hasta haber seleccionado archivo y pulsado <strong>Siguiente</strong>.</p>
    </li>
    <li>
        <p><strong>Reportes anteriores:</strong> a la derecha aparecen salidas previas (accesos rápidos: abrir carpeta,
            eliminar).</p>
    </li>
    <li>
        <p><strong>Comando reproducible:</strong> la modal <em>Ver comando</em> contiene la línea completa — útil para
            reproducibilidad o diagnóstico.</p>
    </li>
    <li>
        <p><strong>Guardar/cargar:</strong> las configuraciones guardadas se listan y pueden aplicarse o eliminarse con
            los iconos correspondientes.</p>
    </li>
</ul>
<hr>
<h3 id="par-metros-explicaci-n-concisa-de-cada-opci-n-visible-">Parámetros (explicación concisa de cada opción
    visible)</h3>
<blockquote>
    <p>Cada término coincide con el nombre mostrado en la UI; incluyo qué hace y una recomendación típica.</p>
</blockquote>
<ul>
    <li>
        <p><strong>Threads</strong></p>
        <ul>
            <li>
                <p>Qué hace: nº de hilos para paralelizar.</p>
            </li>
            <li>
                <p>Recomendación: usar ≤ núcleos físicos (ej. 4–16 según máquina).</p>
            </li>
        </ul>
    </li>
    <li>
        <p><strong>Quality Scores Format (Phred33 / Phred64)</strong></p>
        <ul>
            <li>
                <p>Qué hace: interpreta la codificación de calidad del FASTQ.</p>
            </li>
            <li>
                <p>Recomendación: Phred33 para la mayoría de Illumina modernas.</p>
            </li>
        </ul>
    </li>
    <li>
        <p><strong>Illumina Clip (Adapter file, Seed Mismatches, Palindrome Clip Threshold, Simple Clip Threshold,
                Minimum Adapter Length, Keep Both Reads)</strong></p>
        <ul>
            <li>
                <p><strong>Adapter (archivo):</strong> archivo .fa con secuencias de adaptadores (ej. NexteraPE_PE.fa).
                </p>
            </li>
            <li>
                <p><strong>Seed Mismatches:</strong> mismatches permitidos en la semilla de búsqueda (1–2).</p>
            </li>
            <li>
                <p><strong>Palindrome Clip Threshold:</strong> umbral para clipping por palíndromo (útil en PE cuando
                    mates solapan).</p>
            </li>
            <li>
                <p><strong>Simple Clip Threshold:</strong> umbral para clipping simple.</p>
            </li>
            <li>
                <p><strong>Minimum Adapter Length:</strong> longitud mínima para considerar coincidencia.</p>
            </li>
            <li>
                <p><strong>Keep Both Reads:</strong> política sobre pares cuando uno se descarta (mantener/escribir
                    ambos).</p>
            </li>
            <li>
                <p>Recomendación general: usar el preset de adaptador del kit; ajustar thresholds si FastQC muestra
                    adaptadores residuales.</p>
            </li>
        </ul>
    </li>
    <li>
        <p><strong>Sliding Window (Window Size, Quality Threshold)</strong></p>
        <ul>
            <li>
                <p>Qué hace: recorta el final de la lectura cuando la media de calidad en una ventana cae por debajo del
                    umbral.</p>
            </li>
            <li>
                <p>Recomendación: Window 4, Threshold 15–20 suele ser un buen punto de partida.</p>
            </li>
        </ul>
    </li>
    <li>
        <p><strong>LEADING</strong></p>
        <ul>
            <li>
                <p>Qué hace: elimina bases desde el inicio con calidad &lt; valor.</p>
            </li>
            <li>
                <p>Recomendación: 3–10 (10 estricto).</p>
            </li>
        </ul>
    </li>
    <li>
        <p><strong>TRAILING</strong></p>
        <ul>
            <li>
                <p>Qué hace: elimina bases desde el final con calidad &lt; valor.</p>
            </li>
            <li>
                <p>Recomendación: similar a LEADING.</p>
            </li>
        </ul>
    </li>
    <li>
        <p><strong>MINLEN</strong></p>
        <ul>
            <li>
                <p>Qué hace: descarta lecturas más cortas que este tamaño tras el recorte.</p>
            </li>
            <li>
                <p>Recomendación: 36–50 según la longitud original.</p>
            </li>
        </ul>
    </li>
    <li>
        <p><strong>CROP</strong></p>
        <ul>
            <li>
                <p>Qué hace: recorta la lectura a una longitud fija (mantiene primeras N bases).</p>
            </li>
            <li>
                <p>Uso: normalización o eliminación de colas; usar con precaución.</p>
            </li>
        </ul>
    </li>
    <li>
        <p><strong>HEADCROP</strong></p>
        <ul>
            <li>Qué hace: elimina un número fijo de bases desde el inicio (útil si las primeras bases son
                problemáticas).</li>
        </ul>
    </li>
    <li>
        <p><strong>Leading/Trailing/Headcrop/Crop interacción</strong></p>
        <ul>
            <li>Nota: el orden de las operaciones importa; revisa logs y vuelve a FastQC para comprobar efectos.</li>
        </ul>
    </li>
</ul>
<hr>
<h3 id="mensajes-y-errores-qu-esperar-">Mensajes y errores (qué esperar)</h3>
<ul>
    <li><strong>Falta de selección de archivo:</strong> el botón <strong>Recortar</strong> está deshabilitado o la
        ejecución falla; seleccione archivo(s).</li>
</ul>
<hr>
<h3 id="consejos-pr-cticos">Consejos prácticos</h3>
<ul>
    <li>
        <p><strong>Ejecute FastQC antes y después</strong> del recorte para validar la mejora.</p>
    </li>
    <li>
        <p><strong>Guarde configuraciones</strong> para flujos reproducibles (por ejemplo: preset
            <code>Illumina_150bp_default</code>).
        </p>
    </li>
    <li>
        <p><strong>No elimine los originales</strong> hasta verificar salidas; Trimmomatic puede generar archivos
            paired/unpaired que conviene revisar.</p>
    </li>
    <li>
        <p><strong>Espacio en disco:</strong> asegúrese de tener espacio suficiente para las salidas y logs.</p>
    </li>
    <li>
        <p><strong>Usar presets</strong>: si no está seguro de parámetros, comience con presets recomendados y ajuste
            según FastQC.</p>
    </li>
</ul>